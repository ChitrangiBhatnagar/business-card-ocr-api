# Business Card Processing API - Cursor Rules

## Project Architecture
- Backend: Python Flask REST API
- OCR: EasyOCR (local, no API key)
- Data Processing: Pandas, Regex
- Enrichment: Free APIs only (Hunter, Abstract, GitHub)
- Output: CSV files

## Code Style
- Language: Python 3.8+
- Naming: snake_case for functions/variables, PascalCase for classes
- Docstrings: Google-style docstrings for all functions
- Error Handling: Try-except with logging, never silent failures
- Type Hints: Add type hints to function signatures

## File Organization
business-card-api/
├── app.py                 # Flask entry point
├── config.py              # Configuration management
├── requirements.txt       # Dependencies
├── .env.example           # Environment template
├── src/
│   ├── ocr.py             # CardOCR class
│   ├── parser.py          # CardDataParser class
│   ├── researcher.py      # FreeLeadResearcher class
│   └── pipeline.py        # CardResearchPipeline orchestrator
├── api/
│   └── routes.py          # Flask routes
└── tests/
    └── test_*.py          # Test files

## Code Standards

### Logging
- Use logging module (not print statements)
- Include logger = logging.getLogger(__name__) in each module
- Log levels: DEBUG for dev, INFO for production
- Format: timestamp - module - level - message

### Error Handling
- Always wrap external API calls in try-except
- Return meaningful error messages
- Log full stack traces for debugging
- Use custom exceptions where appropriate

### API Responses
- Success: {"success": True, "data": {...}}
- Error: {"success": False, "error": "message"}
- Always include appropriate HTTP status codes

### Environment Variables
- Never hardcode API keys or secrets
- Use python-dotenv for local development
- Prefix with app name: CARD_API_*

## Development Commands
- Run server: python app.py
- Run tests: pytest tests/
- Install deps: pip install -r requirements.txt

## API Endpoints
- POST /api/process - Process single business card image
- POST /api/batch - Process multiple cards
- GET /api/health - Health check endpoint
- GET /api/download/<filename> - Download CSV results

## Key Classes
- CardOCR: Handles image-to-text extraction using EasyOCR
- CardDataParser: Parses OCR text into structured fields
- FreeLeadResearcher: Enriches data using free APIs
- CardResearchPipeline: Orchestrates the full processing flow
